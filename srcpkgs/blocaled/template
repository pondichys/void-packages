# Template file for 'blocaled'
pkgname=blocaled
version=0.6
revision=1
build_style=gnu-configure
configure_args="--sysconfdir=/etc --prefix=/usr --with-keyboardconfig=/etc/rc.conf --with-localeconfig=/etc/locale.conf --with-xkbdconfig=/etc/X11/xorg.conf.d/00-keyboard.conf"
hostmakedepends="autoconf automake libtool m4 pkg-config glib-devel"
makedepends="gtk-doc libdaemon-devel polkit-devel"
depends="libdaemon polkit"
checkdepends="dbus"
short_desc="Stand-alone implementation of the localed D-Bus service"
maintainer="SÃ©bastien Pondichy <sebastien.pondichy@gmail.com>"
license="GPL-2.0-or-later, MIT"
homepage="https://github.com/lfs-book/blocaled"
changelog="https://raw.githubusercontent.com/lfs-book/blocaled/main/NEWS"
distfiles="https://github.com/lfs-book/blocaled/archive/refs/tags/v${version}.tar.gz"
checksum=a6253e75cedf53ba785ea5fcba0cadbed57f446768187ddb5895fe77ac575619
make_check=ci-skip	# some tests check permissions

pre_configure() {
	./autogen.sh
}

post_install() {
	vlicense COPYING
}
